{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n\nexport function createMarkup(arr) {\n return arr\n        .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `<li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t<img \n\t\t\tclass=\"gallery-image\" \n\t\t\tsrc=\"${webformatURL}\"\n\t\t\talt=\"${tags}\"\n\t\t\twidth=\"360px\"\n            height=\"152px\" />\n\t</a>\n    <ul class=\"image-text\"> \n    <li class=\"value\">Likes<p class=\"amount\">${likes}</p></li>\n    <li class=\"value\">Views<p class=\"amount\">${views}</p></li>\n    <li class=\"value\">Comments<p class=\"amount\">${comments}</p></li>\n    <li class=\"value\">Downloads<p class=\"amount\">${downloads}</p></li>\n    </ul>\n   </li>`)\n     .join(\"\");\n    \n}\n\n\n","\nconst key = \"43347579-3d95162bcb8db799a52fc5fc5\";\n\nexport function fetchRequest(request) {\n    const searchParams = new URLSearchParams({\n        key: key,\n        q: request,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        per_page: 99\n    \n    });\n\n    return fetch(`https://pixabay.com/api/?${searchParams}`)\n}","import 'normalize.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { createMarkup } from './js/render-functions';\nimport { fetchRequest } from './js/pixabay-api';\n\n\n\n\n\nconst form = document.querySelector(\"form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\"#animation\");\n\n\nform.addEventListener(\"submit\", handleSubmit)\n\n\n\n\nfunction handleSubmit(event) {\n    \n    event.preventDefault();\n    loader.classList.toggle(\"loader\");\n    \n    const request = event.target.elements.text.value.trim();\n    if (!request) {\n        return\n    }\n\n     fetchRequest(request)\n        .then((response) => {\n             if (!response.ok) {\n            throw new Error (response.statusText)\n        }\n            return response.json();\n        })\n        .then(post => { \n                \n             if (post.total === 0) {\n                 gallery.innerHTML =\"\";\n                iziToast.error({ message: 'Sorry, there are no images matching your search query. Please try again!'});\n                \n            } else {\n                \n                gallery.innerHTML = createMarkup(post.hits);\n              \n                new SimpleLightbox('.gallery a', {\n                captionsData: \"alt\",\n                captionPosition: \"bottom\",\n                captionDelay: 250,\n                });\n                 \n             }\n            \n            // SimpleLightbox.refresh();\n            loader.classList.toggle(\"loader\");\n            form.reset();\n           \n        })\n        .catch(error => console.log(error));\n}\n\n\n\n\n\n\n\n"],"names":["createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","key","fetchRequest","request","searchParams","form","gallery","loader","handleSubmit","event","response","post","iziToast","SimpleLightbox","error"],"mappings":"6vBAEO,SAASA,EAAaC,EAAK,CACjC,OAAOA,EACC,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA,iCACzDL,CAAa;AAAA;AAAA;AAAA,UAGpCD,CAAY;AAAA,UACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+CAKiCC,CAAK;AAAA,+CACLC,CAAK;AAAA,kDACFC,CAAQ;AAAA,mDACPC,CAAS;AAAA;AAAA,SAEnD,EACH,KAAK,EAAE,CAEb,CCrBA,MAAMC,EAAM,qCAEL,SAASC,EAAaC,EAAS,CAClC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EAElB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,CAC3D,CCHA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,YAAY,EAGlDF,EAAK,iBAAiB,SAAUG,CAAY,EAK5C,SAASA,EAAaC,EAAO,CAEzBA,EAAM,eAAc,EACpBF,EAAO,UAAU,OAAO,QAAQ,EAEhC,MAAMJ,EAAUM,EAAM,OAAO,SAAS,KAAK,MAAM,OAC5CN,GAIJD,EAAaC,CAAO,EAChB,KAAMO,GAAa,CACf,GAAI,CAACA,EAAS,GACf,MAAM,IAAI,MAAOA,EAAS,UAAU,EAEpC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CAELA,EAAK,QAAU,GACfL,EAAQ,UAAW,GACpBM,EAAS,MAAM,CAAE,QAAS,0EAA0E,CAAC,IAIrGN,EAAQ,UAAYd,EAAamB,EAAK,IAAI,EAE1C,IAAIE,EAAe,aAAc,CACjC,aAAc,MACd,gBAAiB,SACjB,aAAc,GAC9B,CAAiB,GAKLN,EAAO,UAAU,OAAO,QAAQ,EAChCF,EAAK,MAAK,CAEtB,CAAS,EACA,MAAMS,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C"}